(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{219:function(e,a,t){"use strict";t.r(a);var r=t(0),s=Object(r.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"database"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#database"}},[e._v("#")]),e._v(" Database")]),e._v(" "),t("h2",{attrs:{id:"papers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#papers"}},[e._v("#")]),e._v(" papers")]),e._v(" "),t("blockquote",[t("p",[t("a",{attrs:{href:""}},[e._v("Functional Pearl: A SQL to C Compiler in 500 Lines of Code")])])]),e._v(" "),t("ul",[t("li",[e._v("volcano model")])]),e._v(" "),t("blockquote",[t("p",[t("a",{attrs:{href:""}},[e._v("Hyper Compiling Database Queries into Machine Code")])])]),e._v(" "),t("p",[e._v("compile relational algebraic to machine code using LLVM, skip iterator model. The goal is to maximize CPU register locality, touch memory as rarely as possible. data-centric operator produce tuples and consume tuples from child operators.")]),e._v(" "),t("p",[e._v("compile time abstraction doesn't add overhead. control flow constructs using LLVM, creating basic blocks such as "),t("code",[e._v("ifBlock")]),e._v(", "),t("code",[e._v("thenBlock")]),e._v(", "),t("code",[e._v("elseBlock")]),e._v(", "),t("code",[e._v("doWhileLoopBlock")]),e._v(". if the query has no predicate, llvm optimize away scanning tuples, and add up data chunks")]),e._v(" "),t("h2",{attrs:{id:"tips"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tips"}},[e._v("#")]),e._v(" tips")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("IS NOT")]),e._v(", "),t("code",[e._v("IS")]),e._v(" is only for boolean")])]),e._v(" "),t("h2",{attrs:{id:"implementing-all-all"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#implementing-all-all"}},[e._v("#")]),e._v(" implementing <> ALL (!= ALL)")]),e._v(" "),t("p",[e._v("$$ {(a, b) \\in R \\vert \\forall{z}\\lbrack (a,z) \\in S \\rightarrow z \\neq b \\rbrack } $$")]),e._v(" "),t("p",[e._v("apply $ a \\rightarrow b \\Longrightarrow \\neg a \\lor \\b $, we have")]),e._v(" "),t("p",[e._v("$$ {(a, b) \\in R \\vert \\forall{z} \\lbrack (a,z) \\nin S \\lor z \\neq b \\rbrack } $$")]),e._v(" "),t("p",[e._v("apply $\\forall{z}A \\rightarrow \\neg \\exists{z} \\neg{A}$, we have")]),e._v(" "),t("p",[e._v("$$ {(a, b) \\in R \\vert \\neg exists{z} \\lbrack (a,z) \\in S \\land z \\eq b \\rbrack } $$")]),e._v(" "),t("p",[e._v("is equivalent to:")]),e._v(" "),t("p",[e._v("$$ {(a, b) \\in R \\vert (a,b) \\nin S } $$")]),e._v(" "),t("h2",{attrs:{id:"on-sql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#on-sql"}},[e._v("#")]),e._v(" on SQL")]),e._v(" "),t("blockquote",[t("p",[e._v("much of the success of the computer industry depends on developing a class of users other than trained computer scientists. - Donald D. Chamberlin; Raymond F. Boyce[^1]")])]),e._v(" "),t("ol",[t("li",[t("a",{attrs:{href:"http://www.almaden.ibm.com/cs/people/chamberlin/sequel-1974.pdf",target:"_blank",rel:"noopener noreferrer"}},[e._v("sequel-1974"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[e._v("#")]),e._v(" mysql")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://about.gitlab.com/2019/06/27/removing-mysql-support/",target:"_blank",rel:"noopener noreferrer"}},[e._v("removing-mysql-support"),t("OutboundLink")],1),e._v("\nWe can't support nested groups with MySQL in a performant way\nWe have to use hacks to increase limits on columns and this can lead to MySQL refusing to store data\nMySQL can't add TEXT type column without length specified\nMySQL doesn't support partial indexes\nThese limitations have already created a number of places where MySQL was already not supported (including with Geo)")]),e._v(" "),t("h2",{attrs:{id:"postgresql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#postgresql"}},[e._v("#")]),e._v(" postgreSQL")]),e._v(" "),t("p",[e._v("LATERAL JOIN")]),e._v(" "),t("h2",{attrs:{id:"misc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#misc"}},[e._v("#")]),e._v(" Misc")]),e._v(" "),t("ul",[t("li",[e._v("GTID")]),e._v(" "),t("li",[e._v("semi-sync")]),e._v(" "),t("li",[e._v("database per user")]),e._v(" "),t("li",[e._v("circular replication")])])])}),[],!1,null,null,null);a.default=s.exports}}]);