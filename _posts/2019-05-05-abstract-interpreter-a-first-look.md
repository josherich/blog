---
layout: post
title:  "Abstract Interpreter, a first look"
description: ""
date:   2019-05-05 14:02:39
categories: PL
tags: [pl, math, formal]
---
```
x = x + 1
while (0 < 1) {
  x = x + 1
  if (2 < x)
    break
}
```

## 抽象空间

正负
奇偶
undefined
取值范围
指针

学了一个叫抽象解释（abstract interpretation）的东西
把程序状态抽象到符号 / 加减运算中 把 {实数} 抽象到 {正负号}
在抽象空间用符号的语义推算结果 / 负数 - 负数 = 负数
再转回具象 / 所有小于零的int
条件是抽象具象过程满足伽罗瓦连接，这个连接保证了在抽象空间的计算结果，在转会具象空间后，是正确的
这种把程序运行定义为函数迭代的框架，加上序理论和伽罗瓦连接，为静态分析提供了基础。比如：
[程序运行 == 递增函数的迭代]
[while语句运行 == 函数的不动点]
[递归函数 == 定义一个数学归纳]
[statement的语义经过抽象 == 抽象空间里的运行规则]
[某次具体的执行 == 一条trace]
[所有的执行过程 == 一个格(lattice)]？
[抽象结构 == 一个格]
抽象 \alpha
输入实例集合，输出多个属性的并（单个属性是对应这些实例的几个

具象 \gamma
输入多个属性，输出实例
格的结构
顶点为全集
底部为空集
上面比下面更宽泛
描述控制流（以类型，奇偶为例）
1. break 执行之后的取值范围，等于 break 语句之外顺序执行的结果，并上break执行之前的取值范围
2. while(sth == sth) { sts; } 执行结束的取值范围，等于while的判断语句成功后 sts 执行n次后的结果，并上 while 的判断语句第一次就失败的结果（即while没有执行前的结果），并上 while 中可能存在的 break 执行前的结果。
抽象域定义了逻辑
偶数+偶数=偶数
奇数+偶数=奇数
信息丢失
由输入的取值范围传播下去，标记出静态的null和undefined；或者从中见开始向上下传播，求出不产生null值的输入输出范围